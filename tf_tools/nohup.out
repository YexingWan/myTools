/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/dtypes.py:516: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/dtypes.py:517: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/dtypes.py:518: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/dtypes.py:519: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/dtypes.py:520: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])
/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:541: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:542: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:543: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:544: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:545: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:550: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])
WARNING:tensorflow:
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From ../models_tensorflow/models/research/slim/nets/inception_resnet_v2.py:373: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

WARNING:tensorflow:From ../models_tensorflow/models/research/slim/nets/mobilenet/mobilenet.py:397: The name tf.nn.avg_pool is deprecated. Please use tf.nn.avg_pool2d instead.

WARNING:tensorflow:From tf_slim_classification_train.py:707: The name tf.app.run is deprecated. Please use tf.compat.v1.app.run instead.

WARNING:tensorflow:From tf_slim_classification_train.py:477: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

W0924 20:55:08.927251 139822386812672 deprecation_wrapper.py:119] From tf_slim_classification_train.py:477: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

WARNING:tensorflow:From tf_slim_classification_train.py:477: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

W0924 20:55:08.927498 139822386812672 deprecation_wrapper.py:119] From tf_slim_classification_train.py:477: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

WARNING:tensorflow:From tf_slim_classification_train.py:491: create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.create_global_step
W0924 20:55:08.950920 139822386812672 deprecation.py:323] From tf_slim_classification_train.py:491: create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.create_global_step
WARNING:tensorflow:From /mnt/newhome/yexing/workspace/myTools/tf_tools/tf_record_tools.py:40: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

W0924 20:55:09.176640 139822386812672 deprecation_wrapper.py:119] From /mnt/newhome/yexing/workspace/myTools/tf_tools/tf_record_tools.py:40: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

WARNING:tensorflow:From /mnt/newhome/yexing/workspace/myTools/tf_tools/tf_record_tools.py:49: The name tf.parse_single_example is deprecated. Please use tf.io.parse_single_example instead.

W0924 20:55:09.177128 139822386812672 deprecation_wrapper.py:119] From /mnt/newhome/yexing/workspace/myTools/tf_tools/tf_record_tools.py:49: The name tf.parse_single_example is deprecated. Please use tf.io.parse_single_example instead.

My Configurations:
 op_conversion_fallback_to_while_loop:	 False
 ignore_missing_vars:	 False
 log_quant_grad:	 False
 clone_on_cpu:	 False
 momentum:	 0.900000
 run_with_pdb:	 False
 run_with_profiling:	 False
 ftrl_initial_accumulator_value:	 0.100000
 ftrl_learning_rate_power:	 -0.500000
 ftrl_l2:	 0.000000
 label_smoothing:	 0.000000
 helpfull:	 False
 num_readers:	 4
 weight_decay:	 0.000100
 trainable_scopes:	 None
 eval_image_size:	 None
 num_epochs_per_decay:	 1.000000
 checkpoint_path:	 /home/yx-wan/newhome/checkpoint/resnet_v1_50/resnet_v1_50.ckpt
 train_image_size:	 None
 preprocessing_name:	 None
 crquant:	 True
 scale_factor:	 100.000000
 adagrad_initial_accumulator_value:	 0.100000
 dataset_dir:	 /home/yx-wan/newhome/Imagenet/train_no_resize
 profile_file:	 None
 rmsprop_decay:	 0.900000
 pbtxt:	 /home/yx-wan/nas/BenchmarkData/rainbuilder/tf_sgir_1.4.2_kld/resnet_v1_50_gpu/quant/resnet_v50_quant_sg.pbtxt
 freeze_bn_epoch:	 5
 ?:	 False
 excluded_scopes:	 None
 num_ps_tasks:	 0
 adadelta_rho:	 0.950000
 alsologtostderr:	 False
 test_randomize_ordering_seed:	 None
 moving_average_decay:	 None
 batch_size:	 64
 adam_beta1:	 0.900000
 sync_replicas:	 False
 checkpoint_from_ema:	 False
 dataset_name:	 imagenet
 dataset_split_name:	 train
 labels_offset:	 1
 showprefixforinfo:	 True
 learning_rate:	 0.000001
 stderrthreshold:	 fatal
 rmsprop_momentum:	 0.900000
 learning_rate_decay_factor:	 0.900000
 train_dir:	 /home/yx-wan/newhome/checkpoint/quant/resnet50_KLD_right_augmentation
 only_check_args:	 False
 log_every_n_steps:	 10
 test_srcdir:	 
 xml_output_file:	 
 ftrl_l1:	 0.000000
 pdb_post_mortem:	 False
 use_cprofile_for_profiling:	 True
 task:	 0
 logtostderr:	 False
 verbosity:	 0
 max_number_of_steps:	 None
 help:	 False
 freeze_quant_epoch:	 7
 optimizer:	 adam
 v:	 0
 num_preprocessing_threads:	 4
 num_samples:	 1281167
 save_interval_secs:	 1200
 helpshort:	 False
 zero_point_factor:	 65536.000000
 worker_replicas:	 1
 number_epochs:	 10
 log_dir:	 
 num_clones:	 1
 quantize_delay:	 -1
 test_tmpdir:	 /tmp/absl_testing
 learning_rate_decay_type:	 exponential
 test_random_seed:	 301
 save_summaries_secs:	 600
 replicas_to_aggregate:	 1
 calibration_step:	 0
 opt_epsilon:	 1.000000
 model_name:	 resnet_v1_50
 master:	 
 end_learning_rate:	 0.000000
 checkpoint_exclude_scopes:	 None
 helpxml:	 False
 adam_beta2:	 0.999000
End of configuration
Traceback (most recent call last):
  File "tf_slim_classification_train.py", line 707, in <module>
    tf.app.run()
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/absl/app.py", line 299, in run
    _run_main(main, args)
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/absl/app.py", line 250, in _run_main
    sys.exit(main(argv))
  File "tf_slim_classification_train.py", line 527, in main
    dataset = dataset.map(preprocess)
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/data/ops/dataset_ops.py", line 1772, in map
    MapDataset(self, map_func, preserve_cardinality=False))
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/data/ops/dataset_ops.py", line 3190, in __init__
    use_legacy_function=use_legacy_function)
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/data/ops/dataset_ops.py", line 2555, in __init__
    self._function = wrapper_fn._get_concrete_function_internal()
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/eager/function.py", line 1355, in _get_concrete_function_internal
    *args, **kwargs)
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/eager/function.py", line 1349, in _get_concrete_function_internal_garbage_collected
    graph_function, _, _ = self._maybe_define_function(args, kwargs)
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/eager/function.py", line 1652, in _maybe_define_function
    graph_function = self._create_graph_function(args, kwargs)
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/eager/function.py", line 1545, in _create_graph_function
    capture_by_value=self._capture_by_value),
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/func_graph.py", line 715, in func_graph_from_py_func
    func_outputs = python_func(*func_args, **func_kwargs)
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/data/ops/dataset_ops.py", line 2549, in wrapper_fn
    ret = _wrapper_helper(*args)
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/data/ops/dataset_ops.py", line 2489, in _wrapper_helper
    ret = func(*nested_args)
  File "tf_slim_classification_train.py", line 522, in preprocess
    image =distort_color(image,np.random.randint(0,3,1),False)
  File "../models_tensorflow/models/research/slim/preprocessing/inception_preprocessing.py", line 96, in distort_color
    return tf.clip_by_value(image, 0.0, 1.0)
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/util/dispatch.py", line 180, in wrapper
    return target(*args, **kwargs)
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/ops/clip_ops.py", line 72, in clip_by_value
    t_min = math_ops.minimum(values, clip_value_max)
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/ops/gen_math_ops.py", line 6345, in minimum
    "Minimum", x=x, y=y, name=name)
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py", line 626, in _apply_op_helper
    param_name=input_name)
  File "/home/yx-wan/newhome/env/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py", line 60, in _SatisfiesTypeConstraint
    ", ".join(dtypes.as_dtype(x).name for x in allowed_list)))
TypeError: Value passed to parameter 'x' has DataType uint8 not in list of allowed values: bfloat16, float16, float32, float64, int32, int64
./tf_slim_classification_train.sh: line 30: --pbtxt: command not found
